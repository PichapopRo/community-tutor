<head>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/material_blue.css">
</head>

<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

{% extends "base.html" %}
{% load widget_tweaks %}

{% block content %}
  <div class="container mt-3 pb-5">
    <h1 class="mb-4 text-light"><strong>Register</strong></h1>
    <div class="row">
      <div class="col-md-12">
        <form method="post" id="register-form">
          {% csrf_token %}

          <div class="row">
            <!-- Account Information Block -->
            <div class="col-lg-4 col-md-6 col-sm-12 text-light mb-3">
              <h3 class="mb-3">Account Information</h3>

              <!-- Username -->
              <div class="mb-3">
                <h5>{{ user_form.username.label }}</h5>
                <div class="col-md-9">
                  {{ user_form.username|add_class:"form-control bg-dark text-light" }}
                </div>
                {% if user_form.username.errors %}
                  <div class="text-danger">
                    {% for error in user_form.username.errors %}
                      <p>{{ error }}</p>
                    {% endfor %}
                  </div>
                {% endif %}
              </div>

              <!-- Email -->
              <div class="mb-3">
                <h5>{{ user_form.email.label }}</h5>
                <div class="col-md-9">
                  {{ user_form.email|add_class:"form-control bg-dark text-light" }}
                </div>
                {% if user_form.email.errors %}
                  <div class="text-danger">
                    {% for error in user_form.email.errors %}
                      <p>{{ error }}</p>
                    {% endfor %}
                  </div>
                {% endif %}
              </div>

              <!-- Password -->
              <div class="mb-3">
                <h5>{{ user_form.password.label }}</h5>
                <div class="col-md-7">
                  {{ user_form.password|add_class:"form-control bg-dark text-light" }}
                </div>
                {% if user_form.password.errors %}
                  <div class="text-danger">
                    {% for error in user_form.password.errors %}
                      <p>{{ error }}</p>
                    {% endfor %}
                  </div>
                {% endif %}
              </div>

              <!-- Confirm Password -->
              <div class="mb-3">
                <h5>{{ user_form.confirm_password.label }}</h5>
                <div class="col-md-7">
                  {{ user_form.confirm_password|add_class:"form-control bg-dark text-light" }}
                </div>
                {% if user_form.confirm_password.errors %}
                  <div class="text-danger">
                    {% for error in user_form.confirm_password.errors %}
                      <p>{{ error }}</p>
                    {% endfor %}
                  </div>
                {% endif %}
              </div>
            </div>

            <!-- Personal Information Block -->
            <div class="col-lg-4 col-md-6 col-sm-12 text-light mb-3">
              <h3 class="mb-3">Personal Information</h3>

              <!-- First Name -->
              <div class="mb-3">
                <h5>{{ user_form.first_name.label }}</h5>
                <div class="col-md-9">
                  {{ user_form.first_name|add_class:"form-control bg-dark text-light" }}
                </div>
                {% if user_form.first_name.errors %}
                  <div class="text-danger">
                    {% for error in user_form.first_name.errors %}
                      <p>{{ error }}</p>
                    {% endfor %}
                  </div>
                {% endif %}
              </div>

              <!-- Last Name -->
              <div class="mb-3">
                <h5>{{ user_form.last_name.label }}</h5>
                <div class="col-md-9">
                  {{ user_form.last_name|add_class:"form-control bg-dark text-light" }}
                </div>
                {% if user_form.last_name.errors %}
                  <div class="text-danger">
                    {% for error in user_form.last_name.errors %}
                      <p>{{ error }}</p>
                    {% endfor %}
                  </div>
                {% endif %}
              </div>

              <!-- Phone Number -->
              <div class="mb-3">
                <h5>{{ user_info_form.phone_number.label }}</h5>
                <div class="col-md-9">
                  {{ user_info_form.phone_number|add_class:"form-control bg-dark text-light" }}
                </div>
                {% if user_info_form.phone_number.errors %}
                  <div class="text-danger">
                    {% for error in user_info_form.phone_number.errors %}
                      <p>{{ error }}</p>
                    {% endfor %}
                  </div>
                {% endif %}
              </div>

              <!-- Date of Birth -->
              <div class="mb-3">
                <h5>{{ user_info_form.date_of_birth.label }}</h5>
                <div class="col-md-7">
                  {{ user_info_form.date_of_birth|add_class:"form-select bg-dark text-light datepicker" }}
                </div>
                {% if user_info_form.date_of_birth.errors %}
                  <div class="text-danger">
                    {% for error in user_info_form.date_of_birth.errors %}
                      <p>{{ error }}</p>
                    {% endfor %}
                  </div>
                {% endif %}
              </div>
            </div>

            <!-- Address Information Block -->
            <div class="col-lg-4 col-md-6 col-sm-12 text-light mb-3">
              <h3 class="mb-3">Address Information</h3>

              <!-- Street Address -->
              <div class="mb-3">
                <h5>{{ user_info_form.street_address.label }}</h5>
                <div class="col-md-9">
                  {{ user_info_form.street_address|add_class:"form-control bg-dark text-light" }}
                </div>
                {% if user_info_form.street_address.errors %}
                  <div class="text-danger">
                    {% for error in user_info_form.street_address.errors %}
                      <p>{{ error }}</p>
                    {% endfor %}
                  </div>
                {% endif %}
              </div>

              <!-- Sub District -->
              <div class="mb-3">
                <h5>{{ user_info_form.sub_district.label }}</h5>
                <div class="col-md-9">
                  {{ user_info_form.sub_district|add_class:"form-control bg-dark text-light" }}
                </div>
                {% if user_info_form.sub_district.errors %}
                  <div class="text-danger">
                    {% for error in user_info_form.sub_district.errors %}
                      <p>{{ error }}</p>
                    {% endfor %}
                  </div>
                {% endif %}
              </div>

              <!-- District -->
              <div class="mb-3">
                <h5>{{ user_info_form.district.label }}</h5>
                <div class="col-md-9">
                  {{ user_info_form.district|add_class:"form-control bg-dark text-light" }}
                </div>
                {% if user_info_form.district.errors %}
                  <div class="text-danger">
                    {% for error in user_info_form.district.errors %}
                      <p>{{ error }}</p>
                    {% endfor %}
                  </div>
                {% endif %}
              </div>

              <!-- Province -->
              <div class="mb-3">
                <h5>{{ user_info_form.province.label }}</h5>
                <div class="col-md-9">
                  {{ user_info_form.province|add_class:"form-control bg-dark text-light" }}
                </div>
                {% if user_info_form.province.errors %}
                  <div class="text-danger">
                    {% for error in user_info_form.province.errors %}
                      <p>{{ error }}</p>
                    {% endfor %}
                  </div>
                {% endif %}
              </div>

              <!-- Zip Code -->
              <div class="mb-3">
                <h5>{{ user_info_form.zip_code.label }}</h5>
                <div class="col-md-7">
                  {{ user_info_form.zip_code|add_class:"form-control bg-dark text-light" }}
                </div>
                {% if user_info_form.zip_code.errors %}
                  <div class="text-danger">
                    {% for error in user_info_form.zip_code.errors %}
                      <p>{{ error }}</p>
                    {% endfor %}
                  </div>
                {% endif %}
              </div>
            </div>
          </div>
            <button type="submit" class="btn btn-info text-dark"><strong>Register</strong></button>
        </form>
      </div>
    </div>

    <script>
      // Initialize flatpickr on date input fields
      flatpickr(".datepicker", {
        enableTime: false,
        dateFormat: "Y-m-d",
        theme: "material_blue",
      });
    </script>
  </div>
{% endblock %}
