{% extends "base.html" %}

{% block content %}
  <h1>Create New Session</h1>
  <form method="post" id="session-form">
    {% csrf_token %}

    <div class="form-group mb-3">
      <label for="{{ form.category.id_for_label }}">{{ form.category.label }}</label>
      {{ form.category }}
      {% if form.category.errors %}
        <div class="text-danger">
          {% for error in form.category.errors %}
            <p>{{ error }}</p>
          {% endfor %}
        </div>
      {% endif %}
    </div>

    <div class="form-group mb-3">
      <label for="{{ form.session_date_time.id_for_label }}">{{ form.session_date_time.label }}</label>
      <div class="input-group">
        {{ form.session_date_time }}
        <span class="input-group-text">
          <i class="bi bi-calendar-event"></i>
        </span>
      </div>
      {% if form.session_date_time.errors %}
        <div class="text-danger">
          {% for error in form.session_date_time.errors %}
            <p>{{ error }}</p>
          {% endfor %}
        </div>
      {% endif %}
    </div>

    <div class="form-group mb-3">
      <label for="{{ form.start_date.id_for_label }}">{{ form.start_date.label }}</label>
      <div class="input-group">
        {{ form.start_date }}
        <span class="input-group-text">
          <i class="bi bi-calendar-event"></i>
        </span>
      </div>
      {% if form.start_date.errors %}
        <div class="text-danger">
          {% for error in form.start_date.errors %}
            <p>{{ error }}</p>
          {% endfor %}
        </div>
      {% endif %}
    </div>

    <div class="form-group mb-3">
      <label for="{{ form.end_date.id_for_label }}">{{ form.end_date.label }}</label>
      <div class="input-group">
        {{ form.end_date }}
        <span class="input-group-text">
          <i class="bi bi-calendar-event"></i>
        </span>
      </div>
      {% if form.end_date.errors %}
        <div class="text-danger">
          {% for error in form.end_date.errors %}
            <p>{{ error }}</p>
          {% endfor %}
        </div>
      {% endif %}
    </div>

    <div class="form-group mb-3">
      <label for="{{ form.location.id_for_label }}">{{ form.location.label }}</label>
      {{ form.location }}
      {% if form.location.errors %}
        <div class="text-danger">
          {% for error in form.location.errors %}
            <p>{{ error }}</p>
          {% endfor %}
        </div>
      {% endif %}
    </div>

    <button type="submit" class="btn btn-success">Submit</button>
  </form>

  <script>
    flatpickr("input[name='session_date_time']", {
      enableTime: false,
      dateFormat: "Y-m-d",
      theme: "material_blue",
    });
    flatpickr("input[name='start_date']", {
      enableTime: true,
      dateFormat: "Y-m-d H:i",
      theme: "material_blue",
    });
    flatpickr("input[name='end_date']", {
      enableTime: true,
      dateFormat: "Y-m-d H:i",
      theme: "material_blue",
      time_24hr: true,
    });
  </script>
{% endblock %}
